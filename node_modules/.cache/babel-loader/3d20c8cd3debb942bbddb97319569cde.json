{"ast":null,"code":"import _regeneratorRuntime from\"D:/karan/empsystem/empsystem/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/karan/empsystem/empsystem/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/karan/empsystem/empsystem/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import EmployeeService from\"../services/EmployeeService\";import Employee from\"./Employee\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ShowEmployee=function ShowEmployee(){var navigate=useNavigate();var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),employees=_useState4[0],setEmployees=_useState4[1];useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);_context.prev=1;_context.next=4;return EmployeeService.showEmployees();case 4:response=_context.sent;setEmployees(response.data);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);console.log(_context.t0);case 11:setLoading(false);case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[]);var deleteEmployee=function deleteEmployee(e,id){e.preventDefault();EmployeeService.deleteEmployee(id).then(function(res){if(employees){setEmployees(function(prevElement){return prevElement.filter(function(employee){return employee.id!==id;});});}});};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto my-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-12\",children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return navigate(\"/addEmployee\");},className:\"rounded bg-slate-600 text-white px-6 py-2 font-semibold\",children:\"Add Employee\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex shadow-lg border-b\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"text-left font-medium text-gray-500 uppercase tracking-wider py-3 px-6\",children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-center font-medium text-gray-500 uppercase tracking-wider py-3 px-6\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-center font-medium text-gray-500 uppercase tracking-wider py-3 px-6\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-center font-medium text-gray-500 uppercase tracking-wider py-3 px-6\",children:\"Email Id\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-center font-medium text-gray-500 uppercase tracking-wider py-3 px-6\",children:\"Actions\"})]})}),!loading&&/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white\",children:employees.map(function(employee){return/*#__PURE__*/_jsx(Employee,{employee:employee,deleteEmployee:deleteEmployee},employee.id);})})]})})]});};export default ShowEmployee;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","EmployeeService","Employee","ShowEmployee","navigate","loading","setLoading","employees","setEmployees","fetchData","showEmployees","response","data","console","log","deleteEmployee","e","id","preventDefault","then","res","prevElement","filter","employee","map"],"sources":["D:/karan/empsystem/empsystem/src/components/ShowEmployee.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport EmployeeService from \"../services/EmployeeService\";\r\nimport Employee from \"./Employee\";\r\n\r\nconst ShowEmployee = () => {\r\n  const navigate = useNavigate();\r\n\r\n  const [loading, setLoading] = useState(true);\r\n  const [employees, setEmployees] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      setLoading(true);\r\n      try {\r\n        const response = await EmployeeService.showEmployees();\r\n        setEmployees(response.data);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n      setLoading(false);\r\n    };\r\n    fetchData();\r\n  }, []);\r\n\r\n  const deleteEmployee = (e, id) => {\r\n    e.preventDefault();\r\n    EmployeeService.deleteEmployee(id).then((res) => {\r\n      if (employees) {\r\n        setEmployees((prevElement) => {\r\n          return prevElement.filter((employee) => employee.id !== id);\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mx-auto my-8\">\r\n      <div className=\"h-12\">\r\n        <button\r\n          onClick={() => navigate(\"/addEmployee\")}\r\n          className=\"rounded bg-slate-600 text-white px-6 py-2 font-semibold\"\r\n        >\r\n          Add Employee\r\n        </button>\r\n      </div>\r\n      <div className=\"flex shadow-lg border-b\">\r\n        <table className=\"min-w-full\">\r\n          <thead className=\"bg-gray-50\">\r\n            <tr>\r\n              <th className=\"text-left font-medium text-gray-500 uppercase tracking-wider py-3 px-6\">\r\n                #\r\n              </th>\r\n              <th className=\"text-center font-medium text-gray-500 uppercase tracking-wider py-3 px-6\">\r\n                First Name\r\n              </th>\r\n              <th className=\"text-center font-medium text-gray-500 uppercase tracking-wider py-3 px-6\">\r\n                Last Name\r\n              </th>\r\n              <th className=\"text-center font-medium text-gray-500 uppercase tracking-wider py-3 px-6\">\r\n                Email Id\r\n              </th>\r\n              <th className=\"text-center font-medium text-gray-500 uppercase tracking-wider py-3 px-6\">\r\n                Actions\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          {!loading && (\r\n            <tbody className=\"bg-white\">\r\n              {employees.map((employee) => (\r\n                <Employee\r\n                  employee={employee}\r\n                  deleteEmployee={deleteEmployee}\r\n                  key={employee.id}\r\n                />\r\n              ))}\r\n            </tbody>\r\n          )}\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ShowEmployee;\r\n"],"mappings":"sWAAA,MAAOA,MAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAOC,gBAAe,KAAM,6BAA6B,CACzD,MAAOC,SAAQ,KAAM,YAAY,CAAC,wFAElC,GAAMC,aAAY,CAAG,QAAfA,aAAY,EAAS,CACzB,GAAMC,SAAQ,CAAGJ,WAAW,EAAE,CAE9B,cAA8BD,QAAQ,CAAC,IAAI,CAAC,wCAArCM,OAAO,eAAEC,UAAU,eAC1B,eAAkCP,QAAQ,CAAC,IAAI,CAAC,yCAAzCQ,SAAS,eAAEC,YAAY,eAE9BV,SAAS,CAAC,UAAM,CACd,GAAMW,UAAS,4FAAG,kJAChBH,UAAU,CAAC,IAAI,CAAC,CAAC,sCAEQL,gBAAe,CAACS,aAAa,EAAE,QAAhDC,QAAQ,eACdH,YAAY,CAACG,QAAQ,CAACC,IAAI,CAAC,CAAC,+EAE5BC,OAAO,CAACC,GAAG,aAAK,CAAC,QAEnBR,UAAU,CAAC,KAAK,CAAC,CAAC,oEACnB,kBATKG,UAAS,0CASd,CACDA,SAAS,EAAE,CACb,CAAC,CAAE,EAAE,CAAC,CAEN,GAAMM,eAAc,CAAG,QAAjBA,eAAc,CAAIC,CAAC,CAAEC,EAAE,CAAK,CAChCD,CAAC,CAACE,cAAc,EAAE,CAClBjB,eAAe,CAACc,cAAc,CAACE,EAAE,CAAC,CAACE,IAAI,CAAC,SAACC,GAAG,CAAK,CAC/C,GAAIb,SAAS,CAAE,CACbC,YAAY,CAAC,SAACa,WAAW,CAAK,CAC5B,MAAOA,YAAW,CAACC,MAAM,CAAC,SAACC,QAAQ,QAAKA,SAAQ,CAACN,EAAE,GAAKA,EAAE,GAAC,CAC7D,CAAC,CAAC,CACJ,CACF,CAAC,CAAC,CACJ,CAAC,CAED,mBACE,aAAK,SAAS,CAAC,wBAAwB,wBACrC,YAAK,SAAS,CAAC,MAAM,uBACnB,eACE,OAAO,CAAE,yBAAMb,SAAQ,CAAC,cAAc,CAAC,EAAC,CACxC,SAAS,CAAC,yDAAyD,0BAG5D,EACL,cACN,YAAK,SAAS,CAAC,yBAAyB,uBACtC,eAAO,SAAS,CAAC,YAAY,wBAC3B,cAAO,SAAS,CAAC,YAAY,uBAC3B,mCACE,WAAI,SAAS,CAAC,wEAAwE,eAEjF,cACL,WAAI,SAAS,CAAC,0EAA0E,wBAEnF,cACL,WAAI,SAAS,CAAC,0EAA0E,uBAEnF,cACL,WAAI,SAAS,CAAC,0EAA0E,sBAEnF,cACL,WAAI,SAAS,CAAC,0EAA0E,qBAEnF,GACF,EACC,CACP,CAACC,OAAO,eACP,cAAO,SAAS,CAAC,UAAU,UACxBE,SAAS,CAACiB,GAAG,CAAC,SAACD,QAAQ,qBACtB,KAAC,QAAQ,EACP,QAAQ,CAAEA,QAAS,CACnB,cAAc,CAAER,cAAe,EAC1BQ,QAAQ,CAACN,EAAE,CAChB,EACH,CAAC,EAEL,GACK,EACJ,GACF,CAEV,CAAC,CAED,cAAed,aAAY"},"metadata":{},"sourceType":"module"}